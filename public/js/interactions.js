function ajaxJoin(a){var b=a.attr("href");$.get(b,function(c){var d=a.data("href");a.attr("href",d).data("href",b),$("form.delete, a#join").toggleClass("hidden")})}function ajaxSub(a){var b=a.attr("href"),c="Unsubscribe";$.get(b,function(d){var e=a.data("href");a.attr("href",e).data("href",b),a.text()==c&&(c="Subscribe"),a.text(c)})}function acceptDeny(a){$request=a.closest(".request"),$.getJSON(a.attr("href"),function(a){$request.remove(),$(".requests .request").length<1&&$(".requests").remove()})}function toggleLfg(){$.get(base_url+"ajax/lfg",function(a){"1"==a.lfg&&(swal("Are you sure?"),findLobby()),$("#lfg").prop("checked",!1)})}$("#join").click(function(a){a.preventDefault(),ajaxJoin($(this))}),$("#sub").click(function(a){a.preventDefault(),ajaxSub($(this))}),$(".accept-deny a").click(function(a){a.preventDefault(),acceptDeny($(this))}),$("a#accept").click(function(a){a.preventDefault(),$.get($(this).attr("href"),function(){location.reload()})}),$("#lfg").change(function(a){$("#lfg").prop("checked")&&0==addressSet?swal({title:"No address found",text:"We have no location to find a lobby for. Care to set one?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, please",cancelButtonText:"No (ill advised)",closeOnConfirm:!0,closeOnCancel:!0},function(a){a?window.location=base_url+"settings":$.get("ajax/lfg",function(){$("#lfg").prop("checked")&&findLobby()})}):$.get("ajax/lfg",function(){$("#lfg").prop("checked")&&findLobby()})});